archetype effect_control_match_or

enum t =
| A of int
| B of int
| C

variable res : int = 0

entry exec() {
  var o : t = A(1);

  match o with
  | A v | B v -> res := v
  | C -> res := 0
  end
}
