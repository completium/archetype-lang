archetype enum_all

enum t =
| A of string
| B of nat
| C
| D of address
| E of int

variable res : nat = 0

variable r : t = C

entry exec() {
  var a : t = A("mystr");
  var b : t = B(1);
  var c : t = C;
  var d : t = D(@tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg);
  var e : t = E(2i);


  // match a with
  // | A v -> res := length(v)
  // | B v -> res := v
  // | C   -> res := 0
  // | D v -> res := 1
  // | E v -> res := abs(v)
  // end;

  // match n with
  // | C -> res := 0
  // | _ -> res := 1
  // end
}
