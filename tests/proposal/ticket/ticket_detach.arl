archetype ticket_detach

variable st1 : option<ticket<string>> = none
variable st2 : option<ticket<string>> = none

entry exec () {
  st1 := create_ticket("mystr", 10)
}

entry receive(it : ticket<string>) {
  st2 := some(it)
}

entry %transfer() {
  detach t from st1;
  transfer 0tz to entry self.receive(t)
}
