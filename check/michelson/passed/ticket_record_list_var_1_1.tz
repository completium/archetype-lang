{ storage nat ;
  parameter (unit %exec) ;
  code { CDR ;
         NIL (pair (option %t (ticket string))
                   (pair %v string nat (option address))
                   (bytes %n)
                   (string %s)) ;
         PUSH string "" ;
         PUSH bytes 0x ;
         PAIR ;
         NONE address ;
         PUSH nat 3 ;
         PAIR ;
         PUSH string "" ;
         PAIR ;
         PAIR ;
         NONE (ticket string) ;
         PAIR ;
         CONS ;
         PUSH string "" ;
         PUSH bytes 0x ;
         PAIR ;
         NONE address ;
         PUSH nat 2 ;
         PAIR ;
         PUSH string "" ;
         PAIR ;
         PAIR ;
         NONE (ticket string) ;
         PAIR ;
         CONS ;
         PUSH string "" ;
         PUSH bytes 0x ;
         PAIR ;
         NONE address ;
         PUSH nat 1 ;
         PAIR ;
         PUSH string "" ;
         PAIR ;
         PAIR ;
         NONE (ticket string) ;
         PAIR ;
         CONS ;
         ITER { UNPAIR 4 ;
                SWAP ;
                UNPAIR 3 ;
                SWAP ;
                DUP ;
                DIP 1 { SWAP ; PAIR 3 ; SWAP ; PAIR 4 } ;
                DUP ;
                DUP 4 ;
                ADD ;
                DIP 1 { DIG 2 ; DROP 1 } ;
                DUG 2 ;
                DROP 2 } ;
         NIL operation ;
         PAIR } }
