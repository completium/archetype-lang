{"balance":"0","script":{"code":[{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"unit","annots":["%hodl"]},{"prim":"nat","annots":["%hodl_callback"]}]},{"prim":"or","args":[{"prim":"address","annots":["%update_oracle"]},{"prim":"unit","annots":["%withdraw"]}]}]},{"prim":"nat","annots":["%withdraw_callback"]}]}]},{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%admin"]},{"prim":"big_map","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"mutez","annots":["%deposit"]},{"prim":"nat","annots":["%price"]}]}],"annots":["%ledger"]}]},{"prim":"address","annots":["%oracle"]}]}]},{"prim":"code","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"AMOUNT"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"string"},{"string":"EMPTY_AMOUNT"}]},{"prim":"FAILWITH"}],[{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SOURCE"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"DUP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"AMOUNT"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SOURCE"},{"prim":"UPDATE"},{"prim":"DIP","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"}]]},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}],[{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"string"},{"string":"ACCOUNT_EXISTS"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CONTRACT","args":[{"prim":"pair","args":[{"prim":"string"},{"prim":"contract","args":[{"prim":"nat"}]}]}],"annots":["%get"]},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ORACLE_FOUND"}]},{"prim":"FAILWITH"}],[]]},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"SELF","annots":["%hodl_callback"]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"XTZ-USD"}]},{"prim":"PAIR"},{"prim":"TRANSFER_TOKENS"},{"prim":"SWAP"},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"CONS"},{"prim":"PAIR"}]]}],[{"prim":"PAIR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"NEQ"},{"prim":"IF","args":[[{"prim":"DROP","args":[{"int":"2"}]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"UNKNOWN_SENDER"}]},{"prim":"FAILWITH"}],[{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SOURCE"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ACCOUNT"}]},{"prim":"FAILWITH"}],[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"string"},{"string":"UNINITIALIZED_ACCOUNT"}]},{"prim":"FAILWITH"}]]}]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SOURCE"},{"prim":"UPDATE"},{"prim":"DIP","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"}]]},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"PAIR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SOURCE"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR"}],[{"prim":"DROP","args":[{"int":"2"}]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"UNAUTHORIZED_ACTION"}]},{"prim":"FAILWITH"}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}],[{"prim":"DROP"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SOURCE"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ACCOUNT"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DROP"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"CONTRACT","args":[{"prim":"pair","args":[{"prim":"string"},{"prim":"contract","args":[{"prim":"nat"}]}]}],"annots":["%get"]},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ORACLE_FOUND"}]},{"prim":"FAILWITH"}],[]]},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"SELF","annots":["%withdraw_callback"]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"XTZ-USD"}]},{"prim":"PAIR"},{"prim":"TRANSFER_TOKENS"},{"prim":"SWAP"},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"CONS"},{"prim":"PAIR"}]]}]]}],[{"prim":"PAIR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"NEQ"},{"prim":"IF","args":[[{"prim":"DROP","args":[{"int":"2"}]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"UNKNOWN_SENDER"}]},{"prim":"FAILWITH"}],[{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SOURCE"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ACCOUNT"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"LT"},{"prim":"IF","args":[[{"prim":"DROP","args":[{"int":"2"}]},{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_WITHDRAWAL_ALLOWED"}]},{"prim":"FAILWITH"}],[{"prim":"SOURCE"},{"prim":"CONTRACT","args":[{"prim":"unit"}]},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"NO_ADDRESS_FOUND"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"mutez"},{"prim":"nat"}]}]},{"prim":"SOURCE"},{"prim":"UPDATE"},{"prim":"DIP","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"}]]},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"UNIT"},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"},{"prim":"PAIR"}]]}]]}]]}]]}],"storage":{"prim":"Pair","args":[{"prim":"Pair","args":[{"string":"tz1Me1MGhK7taay748h4gPnX2cXvbgL6xsYL"},{"int":"100"}]},{"string":"KT1Q4tVwWtnd8BQ9kSZ96bd5atf3dVkzhdHv"}]}}}
