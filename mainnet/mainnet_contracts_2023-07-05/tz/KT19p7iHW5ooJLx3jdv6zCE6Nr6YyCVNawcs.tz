{ parameter
    (or (or (or (address %addAdmin) (nat %changeRewardRoi))
            (or (unit %collateralize) (or (unit %default) (option %delegate key_hash))))
        (or (or (pair %getResponseFromHarbinger string (pair timestamp nat))
                (or (pair %placeBet int int) (unit %removeAdmin)))
            (or (pair %setBetRange (int %BetPercentEnd) (int %BetPercentIncrementor))
                (or (mutez %uncollateralize)
                    (pair %winningsTransfer
                       (string %asset)
                       (pair (address %harbingerContractAddress) (address %targetAddress))))))) ;
  storage
    (pair (pair (pair (set %admin address) (mutez %collateral))
                (pair (int %currentReferenceRewardCycle)
                      (map %cycleOperations
                         int
                         (pair (mutez %cAmount)
                               (pair (int %priceAtCurrentCycle)
                                     (map %rangeDetails
                                        (pair int int)
                                        (pair (mutez %amountInRange)
                                              (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                    (mutez %totalRewards)))))))))
          (pair (pair (int %rangeEnd) (int %rangestep))
                (pair (nat %rate) (mutez %rewardCarryForwarded)))) ;
  code { UNPAIR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     MEM ;
                     IF {}
                        { PUSH string "Only existing admins can provide admin rights to other address" ;
                          FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     UNPAIR ;
                     UNPAIR ;
                     PUSH bool True ;
                     DIG 5 ;
                     UPDATE ;
                     PAIR ;
                     PAIR ;
                     PAIR }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     MEM ;
                     IF {} { PUSH string "Only admins can change the current offer" ; FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     CDR ;
                     DIG 3 ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR } ;
                 NIL operation }
               { IF_LEFT
                   { DROP ;
                     DUP ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     MEM ;
                     IF {} { PUSH string "Only admin can provide a collateral" ; FAILWITH } ;
                     UNPAIR ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     AMOUNT ;
                     ADD ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     PAIR ;
                     NIL operation }
                   { IF_LEFT
                       { DROP ;
                         PUSH mutez 0 ;
                         AMOUNT ;
                         COMPARE ;
                         GE ;
                         IF {} { PUSH string "WrongCondition: sp.amount >= sp.tez(0)" ; FAILWITH } ;
                         UNPAIR ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         AMOUNT ;
                         ADD ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         NIL operation }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         MEM ;
                         IF {} { PUSH string "Only admin can delegate contract balance" ; FAILWITH } ;
                         PUSH mutez 0 ;
                         AMOUNT ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "WrongCondition: sp.amount == sp.tez(0)" ; FAILWITH } ;
                         SET_DELEGATE ;
                         NIL operation ;
                         SWAP ;
                         CONS } } } }
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SOURCE ;
                     MEM ;
                     IF {}
                        { PUSH string "You are not authorised to use this function" ; FAILWITH } ;
                     PUSH int 0 ;
                     PUSH mutez 0 ;
                     PUSH int 5 ;
                     DUP 5 ;
                     CAR ;
                     CDR ;
                     CAR ;
                     SUB ;
                     DUG 2 ;
                     DIG 4 ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     PUSH int 1 ;
                     ADD ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     DUP ;
                     DUG 5 ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     EMPTY_MAP
                       (pair int int)
                       (pair (mutez %amountInRange)
                             (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                   (mutez %totalRewards))) ;
                     PUSH nat 10000 ;
                     DUP 10 ;
                     GET 4 ;
                     EDIV ;
                     IF_NONE { PUSH int 172 ; FAILWITH } {} ;
                     CAR ;
                     INT ;
                     PAIR %priceAtCurrentCycle %rangeDetails ;
                     PUSH mutez 0 ;
                     PAIR %cAmount ;
                     SOME ;
                     DIG 9 ;
                     CAR ;
                     CDR ;
                     CAR ;
                     UPDATE ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     DUG 4 ;
                     PUSH int 0 ;
                     DUP 4 ;
                     COMPARE ;
                     GT ;
                     IF { PUSH mutez 0 ;
                          DUP 6 ;
                          CAR ;
                          CDR ;
                          CDR ;
                          DUP 5 ;
                          GET ;
                          IF_NONE { PUSH int 179 ; FAILWITH } {} ;
                          CAR ;
                          COMPARE ;
                          NEQ ;
                          IF { DROP ;
                               PUSH nat 10000 ;
                               DUP 5 ;
                               CAR ;
                               CDR ;
                               CDR ;
                               DUP 4 ;
                               GET ;
                               IF_NONE { PUSH int 180 ; FAILWITH } {} ;
                               CAR ;
                               DUP 6 ;
                               GET 5 ;
                               MUL ;
                               EDIV ;
                               IF_NONE { PUSH int 180 ; FAILWITH } {} ;
                               CAR ;
                               DUP 5 ;
                               GET 6 ;
                               SWAP ;
                               DUP ;
                               DUG 2 ;
                               ADD ;
                               DUP 6 ;
                               CAR ;
                               CDR ;
                               CDR ;
                               DUP 5 ;
                               GET ;
                               IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                               CAR ;
                               BALANCE ;
                               SUB ;
                               COMPARE ;
                               GT ;
                               IF {}
                                  { PUSH string
                                         "Insufficient Contract Balance to transfer the totalRewards of this baking cycle." ;
                                    FAILWITH } ;
                               NIL operation ;
                               DUP 6 ;
                               CAR ;
                               CDR ;
                               CDR ;
                               DUP 5 ;
                               GET ;
                               IF_NONE { PUSH int 184 ; FAILWITH } {} ;
                               GET 4 ;
                               ITER { CAR ;
                                      DUP 3 ;
                                      SWAP ;
                                      DUP ;
                                      DUG 2 ;
                                      PAIR %rangeData %rewards ;
                                      DUP 6 ;
                                      PUSH nat 10000 ;
                                      DUP 9 ;
                                      GET 4 ;
                                      EDIV ;
                                      IF_NONE { PUSH int 172 ; FAILWITH } {} ;
                                      CAR ;
                                      INT ;
                                      PAIR %currentPrice %currentReferenceWithdrawCycle ;
                                      PAIR ;
                                      DUP ;
                                      CDR ;
                                      CAR ;
                                      CDR ;
                                      SWAP ;
                                      DUP ;
                                      DUG 2 ;
                                      CDR ;
                                      CAR ;
                                      CAR ;
                                      COMPARE ;
                                      EQ ;
                                      IF { DUP ;
                                           CDR ;
                                           CAR ;
                                           CAR ;
                                           PUSH int 0 ;
                                           COMPARE ;
                                           GT ;
                                           IF { PUSH int 10000 ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 18 ; FAILWITH } {} ;
                                                GET 3 ;
                                                DUP 3 ;
                                                CDR ;
                                                CAR ;
                                                CAR ;
                                                MUL ;
                                                EDIV ;
                                                IF_NONE { PUSH int 18 ; FAILWITH } {} ;
                                                CAR ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 18 ; FAILWITH } {} ;
                                                GET 3 ;
                                                ADD ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                CAR ;
                                                CAR ;
                                                COMPARE ;
                                                LT ;
                                                IF { DUP 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     CAR ;
                                                     DUP 9 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     DUP 3 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     CAR ;
                                                     COMPARE ;
                                                     NEQ ;
                                                     IF { PUSH mutez 0 ;
                                                          DUP 9 ;
                                                          CAR ;
                                                          CDR ;
                                                          CDR ;
                                                          DUP 3 ;
                                                          CAR ;
                                                          CDR ;
                                                          GET ;
                                                          IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                          GET 4 ;
                                                          DUP 3 ;
                                                          GET 3 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                          CAR ;
                                                          COMPARE ;
                                                          NEQ ;
                                                          IF { DIG 7 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DUP 6 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 48 ; FAILWITH } {} ;
                                                               CAR ;
                                                               ADD ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               PAIR ;
                                                               DUG 7 ;
                                                               DUP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DIG 4 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 49 ; FAILWITH } {} ;
                                                               CAR ;
                                                               SWAP ;
                                                               SUB ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DIG 7 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUP 6 ;
                                                               CAR ;
                                                               CDR ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUP 10 ;
                                                               GET 3 ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               DUP 12 ;
                                                               GET 4 ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SOME ;
                                                               SWAP ;
                                                               UPDATE ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SOME ;
                                                               SWAP ;
                                                               UPDATE ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               DUP ;
                                                               DUG 8 ;
                                                               CAR ;
                                                               CDR ;
                                                               CDR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               CAR ;
                                                               CDR ;
                                                               GET ;
                                                               IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                               GET 4 ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET 3 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                               GET 3 ;
                                                               ITER { DIG 3 ;
                                                                      SWAP ;
                                                                      DUP ;
                                                                      DUG 2 ;
                                                                      CDR ;
                                                                      CONTRACT unit ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      PUSH mutez 1 ;
                                                                      DUP 11 ;
                                                                      CAR ;
                                                                      CDR ;
                                                                      CDR ;
                                                                      DUP 6 ;
                                                                      CAR ;
                                                                      CDR ;
                                                                      GET ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      GET 4 ;
                                                                      DUP 6 ;
                                                                      GET 3 ;
                                                                      GET ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      DUP 11 ;
                                                                      GET 6 ;
                                                                      DUP 6 ;
                                                                      GET 4 ;
                                                                      ADD ;
                                                                      PUSH mutez 1 ;
                                                                      DUP 6 ;
                                                                      CAR ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      MUL ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      DIG 3 ;
                                                                      CAR ;
                                                                      ADD ;
                                                                      UNIT ;
                                                                      TRANSFER_TOKENS ;
                                                                      CONS ;
                                                                      DUG 2 } ;
                                                               DROP 2 ;
                                                               DIG 5 ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               PUSH mutez 0 ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DUG 5 }
                                                             { SWAP ;
                                                               DROP ;
                                                               DIG 6 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DUP 6 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 56 ; FAILWITH } {} ;
                                                               CAR ;
                                                               ADD ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               PAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               PUSH nat 10000 ;
                                                               DIG 4 ;
                                                               GET 4 ;
                                                               PUSH nat 9800 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 57 ; FAILWITH } {} ;
                                                               CAR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DUG 5 } }
                                                        { DIG 7 ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 6 ;
                                                          CAR ;
                                                          CDR ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 10 ;
                                                          GET 3 ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          DUP 12 ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          PAIR ;
                                                          DUP ;
                                                          DUG 8 ;
                                                          CAR ;
                                                          CDR ;
                                                          CDR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          CAR ;
                                                          CDR ;
                                                          GET ;
                                                          IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET 3 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                          GET 3 ;
                                                          ITER { DIG 3 ;
                                                                 SWAP ;
                                                                 DUP ;
                                                                 DUG 2 ;
                                                                 CDR ;
                                                                 CONTRACT unit ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 11 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 CDR ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 GET 4 ;
                                                                 DUP 6 ;
                                                                 GET 3 ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DUP 11 ;
                                                                 GET 6 ;
                                                                 DUP 6 ;
                                                                 GET 4 ;
                                                                 ADD ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 MUL ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DIG 3 ;
                                                                 CAR ;
                                                                 ADD ;
                                                                 UNIT ;
                                                                 TRANSFER_TOKENS ;
                                                                 CONS ;
                                                                 DUG 2 } ;
                                                          DROP 2 ;
                                                          DIG 5 ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          PUSH mutez 0 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          DUG 5 } }
                                                   { DUP 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 3 ;
                                                     ITER { DIG 3 ;
                                                            SWAP ;
                                                            DUP ;
                                                            DUG 2 ;
                                                            CDR ;
                                                            CONTRACT unit ;
                                                            IF_NONE { PUSH int 67 ; FAILWITH } {} ;
                                                            DIG 2 ;
                                                            CAR ;
                                                            UNIT ;
                                                            TRANSFER_TOKENS ;
                                                            CONS ;
                                                            DUG 2 } ;
                                                     DROP 2 } }
                                              { PUSH int 10000 ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 24 ; FAILWITH } {} ;
                                                GET 3 ;
                                                DUP 3 ;
                                                CDR ;
                                                CAR ;
                                                CAR ;
                                                MUL ;
                                                EDIV ;
                                                IF_NONE { PUSH int 24 ; FAILWITH } {} ;
                                                CAR ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 24 ; FAILWITH } {} ;
                                                GET 3 ;
                                                ADD ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                CAR ;
                                                CAR ;
                                                COMPARE ;
                                                GE ;
                                                IF { DUP 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     CAR ;
                                                     DUP 9 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     DUP 3 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                     CAR ;
                                                     COMPARE ;
                                                     NEQ ;
                                                     IF { PUSH mutez 0 ;
                                                          DUP 9 ;
                                                          CAR ;
                                                          CDR ;
                                                          CDR ;
                                                          DUP 3 ;
                                                          CAR ;
                                                          CDR ;
                                                          GET ;
                                                          IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                          GET 4 ;
                                                          DUP 3 ;
                                                          GET 3 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                          CAR ;
                                                          COMPARE ;
                                                          NEQ ;
                                                          IF { DIG 7 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DUP 6 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 48 ; FAILWITH } {} ;
                                                               CAR ;
                                                               ADD ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               PAIR ;
                                                               DUG 7 ;
                                                               DUP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DIG 4 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 49 ; FAILWITH } {} ;
                                                               CAR ;
                                                               SWAP ;
                                                               SUB ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DIG 7 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUP 6 ;
                                                               CAR ;
                                                               CDR ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUP 10 ;
                                                               GET 3 ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               DUP 12 ;
                                                               GET 4 ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SOME ;
                                                               SWAP ;
                                                               UPDATE ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SOME ;
                                                               SWAP ;
                                                               UPDATE ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               DUP ;
                                                               DUG 8 ;
                                                               CAR ;
                                                               CDR ;
                                                               CDR ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               CAR ;
                                                               CDR ;
                                                               GET ;
                                                               IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                               GET 4 ;
                                                               SWAP ;
                                                               DUP ;
                                                               DUG 2 ;
                                                               GET 3 ;
                                                               GET ;
                                                               IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                               GET 3 ;
                                                               ITER { DIG 3 ;
                                                                      SWAP ;
                                                                      DUP ;
                                                                      DUG 2 ;
                                                                      CDR ;
                                                                      CONTRACT unit ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      PUSH mutez 1 ;
                                                                      DUP 11 ;
                                                                      CAR ;
                                                                      CDR ;
                                                                      CDR ;
                                                                      DUP 6 ;
                                                                      CAR ;
                                                                      CDR ;
                                                                      GET ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      GET 4 ;
                                                                      DUP 6 ;
                                                                      GET 3 ;
                                                                      GET ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      DUP 11 ;
                                                                      GET 6 ;
                                                                      DUP 6 ;
                                                                      GET 4 ;
                                                                      ADD ;
                                                                      PUSH mutez 1 ;
                                                                      DUP 6 ;
                                                                      CAR ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      MUL ;
                                                                      EDIV ;
                                                                      IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                      CAR ;
                                                                      DIG 3 ;
                                                                      CAR ;
                                                                      ADD ;
                                                                      UNIT ;
                                                                      TRANSFER_TOKENS ;
                                                                      CONS ;
                                                                      DUG 2 } ;
                                                               DROP 2 ;
                                                               DIG 5 ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               PUSH mutez 0 ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DUG 5 }
                                                             { SWAP ;
                                                               DROP ;
                                                               DIG 6 ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               PUSH nat 10000 ;
                                                               DUP 6 ;
                                                               GET 4 ;
                                                               PUSH nat 200 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 56 ; FAILWITH } {} ;
                                                               CAR ;
                                                               ADD ;
                                                               SWAP ;
                                                               PAIR ;
                                                               PAIR ;
                                                               PAIR ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               UNPAIR ;
                                                               SWAP ;
                                                               CAR ;
                                                               PUSH nat 10000 ;
                                                               DIG 4 ;
                                                               GET 4 ;
                                                               PUSH nat 9800 ;
                                                               MUL ;
                                                               EDIV ;
                                                               IF_NONE { PUSH int 57 ; FAILWITH } {} ;
                                                               CAR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               SWAP ;
                                                               PAIR ;
                                                               DUG 5 } }
                                                        { DIG 7 ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 6 ;
                                                          CAR ;
                                                          CDR ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 10 ;
                                                          GET 3 ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          DUP 12 ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          PAIR ;
                                                          DUP ;
                                                          DUG 8 ;
                                                          CAR ;
                                                          CDR ;
                                                          CDR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          CAR ;
                                                          CDR ;
                                                          GET ;
                                                          IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET 3 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                          GET 3 ;
                                                          ITER { DIG 3 ;
                                                                 SWAP ;
                                                                 DUP ;
                                                                 DUG 2 ;
                                                                 CDR ;
                                                                 CONTRACT unit ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 11 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 CDR ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 GET 4 ;
                                                                 DUP 6 ;
                                                                 GET 3 ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DUP 11 ;
                                                                 GET 6 ;
                                                                 DUP 6 ;
                                                                 GET 4 ;
                                                                 ADD ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 MUL ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DIG 3 ;
                                                                 CAR ;
                                                                 ADD ;
                                                                 UNIT ;
                                                                 TRANSFER_TOKENS ;
                                                                 CONS ;
                                                                 DUG 2 } ;
                                                          DROP 2 ;
                                                          DIG 5 ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          PUSH mutez 0 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          DUG 5 } }
                                                   { DUP 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 3 ;
                                                     ITER { DIG 3 ;
                                                            SWAP ;
                                                            DUP ;
                                                            DUG 2 ;
                                                            CDR ;
                                                            CONTRACT unit ;
                                                            IF_NONE { PUSH int 67 ; FAILWITH } {} ;
                                                            DIG 2 ;
                                                            CAR ;
                                                            UNIT ;
                                                            TRANSFER_TOKENS ;
                                                            CONS ;
                                                            DUG 2 } ;
                                                     DROP 2 } } }
                                         { PUSH int 10000 ;
                                           DUP 9 ;
                                           CAR ;
                                           CDR ;
                                           CDR ;
                                           DUP 3 ;
                                           CAR ;
                                           CDR ;
                                           GET ;
                                           IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                           GET 3 ;
                                           DUP 3 ;
                                           CDR ;
                                           CAR ;
                                           CAR ;
                                           MUL ;
                                           EDIV ;
                                           IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                           CAR ;
                                           DUP 9 ;
                                           CAR ;
                                           CDR ;
                                           CDR ;
                                           DUP 3 ;
                                           CAR ;
                                           CDR ;
                                           GET ;
                                           IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                           GET 3 ;
                                           ADD ;
                                           SWAP ;
                                           DUP ;
                                           DUG 2 ;
                                           CAR ;
                                           CAR ;
                                           COMPARE ;
                                           GE ;
                                           IF { PUSH int 10000 ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                                GET 3 ;
                                                DUP 3 ;
                                                CDR ;
                                                CAR ;
                                                CDR ;
                                                MUL ;
                                                EDIV ;
                                                IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                                CAR ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                                                GET 3 ;
                                                ADD ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                CAR ;
                                                CAR ;
                                                COMPARE ;
                                                LT }
                                              { PUSH bool False } ;
                                           IF { DUP 8 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                GET 4 ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                GET 3 ;
                                                GET ;
                                                IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                CAR ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                                                CAR ;
                                                COMPARE ;
                                                NEQ ;
                                                IF { PUSH mutez 0 ;
                                                     DUP 9 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     DUP 3 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     DUP 3 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 38 ; FAILWITH } {} ;
                                                     CAR ;
                                                     COMPARE ;
                                                     NEQ ;
                                                     IF { DIG 7 ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          PUSH nat 10000 ;
                                                          DUP 6 ;
                                                          GET 4 ;
                                                          PUSH nat 200 ;
                                                          MUL ;
                                                          EDIV ;
                                                          IF_NONE { PUSH int 48 ; FAILWITH } {} ;
                                                          CAR ;
                                                          ADD ;
                                                          SWAP ;
                                                          PAIR ;
                                                          PAIR ;
                                                          PAIR ;
                                                          DUG 7 ;
                                                          DUP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          PUSH nat 10000 ;
                                                          DIG 4 ;
                                                          GET 4 ;
                                                          PUSH nat 200 ;
                                                          MUL ;
                                                          EDIV ;
                                                          IF_NONE { PUSH int 49 ; FAILWITH } {} ;
                                                          CAR ;
                                                          SWAP ;
                                                          SUB ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          DIG 7 ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 6 ;
                                                          CAR ;
                                                          CDR ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUP 10 ;
                                                          GET 3 ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 50 ; FAILWITH } {} ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          DUP 12 ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SOME ;
                                                          SWAP ;
                                                          UPDATE ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          PAIR ;
                                                          DUP ;
                                                          DUG 8 ;
                                                          CAR ;
                                                          CDR ;
                                                          CDR ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          CAR ;
                                                          CDR ;
                                                          GET ;
                                                          IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                          GET 4 ;
                                                          SWAP ;
                                                          DUP ;
                                                          DUG 2 ;
                                                          GET 3 ;
                                                          GET ;
                                                          IF_NONE { PUSH int 51 ; FAILWITH } {} ;
                                                          GET 3 ;
                                                          ITER { DIG 3 ;
                                                                 SWAP ;
                                                                 DUP ;
                                                                 DUG 2 ;
                                                                 CDR ;
                                                                 CONTRACT unit ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 11 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 CDR ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 CDR ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 GET 4 ;
                                                                 DUP 6 ;
                                                                 GET 3 ;
                                                                 GET ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DUP 11 ;
                                                                 GET 6 ;
                                                                 DUP 6 ;
                                                                 GET 4 ;
                                                                 ADD ;
                                                                 PUSH mutez 1 ;
                                                                 DUP 6 ;
                                                                 CAR ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 MUL ;
                                                                 EDIV ;
                                                                 IF_NONE { PUSH int 52 ; FAILWITH } {} ;
                                                                 CAR ;
                                                                 DIG 3 ;
                                                                 CAR ;
                                                                 ADD ;
                                                                 UNIT ;
                                                                 TRANSFER_TOKENS ;
                                                                 CONS ;
                                                                 DUG 2 } ;
                                                          DROP 2 ;
                                                          DIG 5 ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          PUSH mutez 0 ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          DUG 5 }
                                                        { SWAP ;
                                                          DROP ;
                                                          DIG 6 ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          PUSH nat 10000 ;
                                                          DUP 6 ;
                                                          GET 4 ;
                                                          PUSH nat 200 ;
                                                          MUL ;
                                                          EDIV ;
                                                          IF_NONE { PUSH int 56 ; FAILWITH } {} ;
                                                          CAR ;
                                                          ADD ;
                                                          SWAP ;
                                                          PAIR ;
                                                          PAIR ;
                                                          PAIR ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          UNPAIR ;
                                                          SWAP ;
                                                          CAR ;
                                                          PUSH nat 10000 ;
                                                          DIG 4 ;
                                                          GET 4 ;
                                                          PUSH nat 9800 ;
                                                          MUL ;
                                                          EDIV ;
                                                          IF_NONE { PUSH int 57 ; FAILWITH } {} ;
                                                          CAR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          SWAP ;
                                                          PAIR ;
                                                          DUG 5 } }
                                                   { DIG 7 ;
                                                     UNPAIR ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUP 6 ;
                                                     CAR ;
                                                     CDR ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUP 10 ;
                                                     GET 3 ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 60 ; FAILWITH } {} ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     CAR ;
                                                     DUP 12 ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SOME ;
                                                     SWAP ;
                                                     UPDATE ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SOME ;
                                                     SWAP ;
                                                     UPDATE ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SWAP ;
                                                     PAIR ;
                                                     PAIR ;
                                                     DUP ;
                                                     DUG 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 61 ; FAILWITH } {} ;
                                                     GET 3 ;
                                                     ITER { DIG 3 ;
                                                            SWAP ;
                                                            DUP ;
                                                            DUG 2 ;
                                                            CDR ;
                                                            CONTRACT unit ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            PUSH mutez 1 ;
                                                            DUP 11 ;
                                                            CAR ;
                                                            CDR ;
                                                            CDR ;
                                                            DUP 6 ;
                                                            CAR ;
                                                            CDR ;
                                                            GET ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            GET 4 ;
                                                            DUP 6 ;
                                                            GET 3 ;
                                                            GET ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            CAR ;
                                                            EDIV ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            CAR ;
                                                            DUP 11 ;
                                                            GET 6 ;
                                                            DUP 6 ;
                                                            GET 4 ;
                                                            ADD ;
                                                            PUSH mutez 1 ;
                                                            DUP 6 ;
                                                            CAR ;
                                                            EDIV ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            CAR ;
                                                            MUL ;
                                                            EDIV ;
                                                            IF_NONE { PUSH int 62 ; FAILWITH } {} ;
                                                            CAR ;
                                                            DIG 3 ;
                                                            CAR ;
                                                            ADD ;
                                                            UNIT ;
                                                            TRANSFER_TOKENS ;
                                                            CONS ;
                                                            DUG 2 } ;
                                                     DROP 2 ;
                                                     DIG 5 ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     UNPAIR ;
                                                     SWAP ;
                                                     CAR ;
                                                     PUSH mutez 0 ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SWAP ;
                                                     PAIR ;
                                                     SWAP ;
                                                     PAIR ;
                                                     DUG 5 } }
                                              { PUSH mutez 0 ;
                                                DUP 9 ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                DUP 3 ;
                                                CAR ;
                                                CDR ;
                                                GET ;
                                                IF_NONE { PUSH int 33 ; FAILWITH } {} ;
                                                GET 4 ;
                                                DUP 3 ;
                                                GET 3 ;
                                                GET ;
                                                IF_NONE { PUSH int 33 ; FAILWITH } {} ;
                                                CAR ;
                                                COMPARE ;
                                                NEQ ;
                                                IF { DUP 8 ;
                                                     CAR ;
                                                     CDR ;
                                                     CDR ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     CAR ;
                                                     CDR ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 4 ;
                                                     SWAP ;
                                                     DUP ;
                                                     DUG 2 ;
                                                     GET 3 ;
                                                     GET ;
                                                     IF_NONE { PUSH int 66 ; FAILWITH } {} ;
                                                     GET 3 ;
                                                     ITER { DIG 3 ;
                                                            SWAP ;
                                                            DUP ;
                                                            DUG 2 ;
                                                            CDR ;
                                                            CONTRACT unit ;
                                                            IF_NONE { PUSH int 67 ; FAILWITH } {} ;
                                                            DIG 2 ;
                                                            CAR ;
                                                            UNIT ;
                                                            TRANSFER_TOKENS ;
                                                            CONS ;
                                                            DUG 2 } ;
                                                     DROP 2 }
                                                   { DROP 2 } } } } }
                             { NIL operation } ;
                          PUSH int 5 ;
                          DUP 5 ;
                          COMPARE ;
                          GT ;
                          IF { DIG 5 ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               SWAP ;
                               NONE (pair (mutez %cAmount)
                                          (pair (int %priceAtCurrentCycle)
                                                (map %rangeDetails
                                                   (pair int int)
                                                   (pair (mutez %amountInRange)
                                                         (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                               (mutez %totalRewards)))))) ;
                               PUSH int 5 ;
                               DUP 10 ;
                               SUB ;
                               UPDATE ;
                               SWAP ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               DUG 5 }
                             {} }
                        { NIL operation } ;
                     PUSH int 0 ;
                     DUP 7 ;
                     CDR ;
                     CAR ;
                     CAR ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     COMPARE ;
                     LE ;
                     LOOP { DIG 6 ;
                            DUP ;
                            CDR ;
                            CAR ;
                            CAR ;
                            SWAP ;
                            DUP ;
                            DUG 8 ;
                            CDR ;
                            CAR ;
                            CDR ;
                            DUP 3 ;
                            ADD ;
                            COMPARE ;
                            LE ;
                            IF { DUP 7 ;
                                 UNPAIR ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 DUP ;
                                 DUP 12 ;
                                 CAR ;
                                 CDR ;
                                 CAR ;
                                 DUP ;
                                 DUG 2 ;
                                 GET ;
                                 IF_NONE { PUSH int 74 ; FAILWITH } {} ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 PUSH (option
                                         (pair (mutez %amountInRange)
                                               (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                     (mutez %totalRewards))))
                                      (Some (Pair 0 {} 0)) ;
                                 DIG 15 ;
                                 CDR ;
                                 CAR ;
                                 CDR ;
                                 DUP 11 ;
                                 ADD ;
                                 DUP 11 ;
                                 PAIR ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 SOME ;
                                 SWAP ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 PAIR ;
                                 DUP ;
                                 DUG 7 ;
                                 UNPAIR ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 DUP ;
                                 DUP 12 ;
                                 CAR ;
                                 CDR ;
                                 CAR ;
                                 DUP ;
                                 DUG 2 ;
                                 GET ;
                                 IF_NONE { PUSH int 75 ; FAILWITH } {} ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 PUSH (option
                                         (pair (mutez %amountInRange)
                                               (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                     (mutez %totalRewards))))
                                      (Some (Pair 0 {} 0)) ;
                                 DUP 10 ;
                                 PUSH int -1 ;
                                 MUL ;
                                 DIG 16 ;
                                 CDR ;
                                 CAR ;
                                 CDR ;
                                 DUP 12 ;
                                 ADD ;
                                 PUSH int -1 ;
                                 MUL ;
                                 PAIR ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 SOME ;
                                 SWAP ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 PAIR ;
                                 DUG 6 }
                               { DUP 7 ;
                                 UNPAIR ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 DUP ;
                                 DIG 11 ;
                                 CAR ;
                                 CDR ;
                                 CAR ;
                                 DUP ;
                                 DUG 2 ;
                                 GET ;
                                 IF_NONE { PUSH int 78 ; FAILWITH } {} ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 PUSH (option
                                         (pair (mutez %amountInRange)
                                               (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                     (mutez %totalRewards))))
                                      (Some (Pair 0 {} 0)) ;
                                 DIG 9 ;
                                 DUP ;
                                 DUP ;
                                 DUG 11 ;
                                 PAIR ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 SOME ;
                                 SWAP ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 PAIR ;
                                 DUP ;
                                 DUG 7 ;
                                 UNPAIR ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 DUP ;
                                 DIG 11 ;
                                 CAR ;
                                 CDR ;
                                 CAR ;
                                 DUP ;
                                 DUG 2 ;
                                 GET ;
                                 IF_NONE { PUSH int 79 ; FAILWITH } {} ;
                                 UNPAIR ;
                                 SWAP ;
                                 UNPAIR ;
                                 SWAP ;
                                 PUSH (option
                                         (pair (mutez %amountInRange)
                                               (pair (list %bettorsDetails (pair (mutez %betAmount) (address %bettor)))
                                                     (mutez %totalRewards))))
                                      (Some (Pair 0 {} 0)) ;
                                 DUP 10 ;
                                 PUSH int -1 ;
                                 MUL ;
                                 DUP 11 ;
                                 PUSH int -1 ;
                                 MUL ;
                                 PAIR ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 SOME ;
                                 SWAP ;
                                 UPDATE ;
                                 SWAP ;
                                 PAIR ;
                                 SWAP ;
                                 PAIR ;
                                 PAIR ;
                                 DUG 6 } ;
                            DUP 7 ;
                            CDR ;
                            CAR ;
                            CDR ;
                            ADD ;
                            DUP 7 ;
                            CDR ;
                            CAR ;
                            CAR ;
                            SWAP ;
                            DUP ;
                            DUG 2 ;
                            COMPARE ;
                            LE } ;
                     DROP ;
                     SWAP ;
                     DROP ;
                     SWAP ;
                     DROP ;
                     SWAP ;
                     DROP ;
                     SWAP ;
                     DROP }
                   { IF_LEFT
                       { PUSH int 0 ;
                         DUP 3 ;
                         CAR ;
                         CDR ;
                         CAR ;
                         COMPARE ;
                         NEQ ;
                         IF {}
                            { PUSH string
                                   "Please wait for the new cycle to initiate being matching with a wager" ;
                              FAILWITH } ;
                         PUSH mutez 1000000 ;
                         AMOUNT ;
                         COMPARE ;
                         GE ;
                         IF {}
                            { PUSH string "Please send in the correct amount to be staked for this wager" ;
                              FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 3 ;
                         CAR ;
                         CDR ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 150 ; FAILWITH } {} ;
                         GET 4 ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         MEM ;
                         IF {} { PUSH string "Invalid Range" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         DUP ;
                         DUP 7 ;
                         CAR ;
                         CDR ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 153 ; FAILWITH } {} ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         DUP ;
                         DUP 10 ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 153 ; FAILWITH } {} ;
                         UNPAIR ;
                         SWAP ;
                         CDR ;
                         DIG 12 ;
                         DUP ;
                         CAR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         CDR ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 153 ; FAILWITH } {} ;
                         GET 4 ;
                         DUP 13 ;
                         GET ;
                         IF_NONE { PUSH int 153 ; FAILWITH } {} ;
                         GET 3 ;
                         SENDER ;
                         AMOUNT ;
                         PAIR %betAmount %bettor ;
                         CONS ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         DUP ;
                         DUG 2 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         DUP ;
                         DIG 6 ;
                         CAR ;
                         CDR ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 154 ; FAILWITH } {} ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         DUP ;
                         DIG 9 ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 154 ; FAILWITH } {} ;
                         UNPAIR ;
                         AMOUNT ;
                         ADD ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         DUP ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         DUP ;
                         DIG 5 ;
                         CAR ;
                         CDR ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 155 ; FAILWITH } {} ;
                         UNPAIR ;
                         AMOUNT ;
                         ADD ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR }
                       { DROP ;
                         DUP ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         MEM ;
                         IF {} { PUSH string "You are not an admin" ; FAILWITH } ;
                         UNPAIR ;
                         UNPAIR ;
                         UNPAIR ;
                         PUSH bool False ;
                         SENDER ;
                         UPDATE ;
                         PAIR ;
                         PAIR ;
                         PAIR } ;
                     NIL operation } }
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     MEM ;
                     IF {}
                        { PUSH string
                               "You are not authoritized to set the range for the available Bet prices" ;
                          FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     CDR ;
                     DUP 4 ;
                     CAR ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     CAR ;
                     DIG 3 ;
                     CDR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     NIL operation }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         MEM ;
                         IF {} { PUSH string "Only admin can withdraw a collateral" ; FAILWITH } ;
                         DUP ;
                         DUP 3 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         COMPARE ;
                         GE ;
                         IF {}
                            { PUSH string "Insufficient collateral funds to meet your withdraw request" ;
                              FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         DUP 5 ;
                         SWAP ;
                         SUB ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         NIL operation ;
                         SENDER ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 137 ; FAILWITH } {} ;
                         DIG 2 ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         MEM ;
                         IF {}
                            { PUSH string "You are not authorised to use this function" ; FAILWITH } ;
                         DUP ;
                         GET 3 ;
                         CONTRACT %get (pair string (contract (pair string (pair timestamp nat)))) ;
                         IF_NONE { PUSH int 85 ; FAILWITH } {} ;
                         NIL operation ;
                         SWAP ;
                         PUSH mutez 0 ;
                         DUP 4 ;
                         GET 4 ;
                         CONTRACT %getResponseFromHarbinger (pair string (pair timestamp nat)) ;
                         IF_NONE { PUSH int 87 ; FAILWITH } {} ;
                         DIG 4 ;
                         CAR ;
                         PAIR ;
                         TRANSFER_TOKENS ;
                         CONS } } } } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }