{"code":[{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order","%demand"]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order","%offer"]},{"prim":"pair","args":[{"prim":"nat","annots":["%report_ix"]},{"prim":"bytes","annots":["%report_data"]}],"annots":[":report","%finalize"]}]}],"annots":[":_entries"]}]},{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"map","args":[{"prim":"bytes"},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"address"}]}],"annots":["%asks"]},{"prim":"pair","args":[{"prim":"map","args":[{"prim":"bytes"},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"address"}]}],"annots":["%bids"]},{"prim":"map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order","%liability_params"]},{"prim":"pair","args":[{"prim":"address","annots":["%liability_promisee"]},{"prim":"pair","args":[{"prim":"address","annots":["%liability_promisor"]},{"prim":"option","args":[{"prim":"bytes"}],"annots":["%liability_report"]}]}]}],"annots":[":liability"]}],"annots":["%deals"]}]}],"annots":[":storage"]}]},{"prim":"code","args":[[{"prim":"DUP"},{"prim":"DIP","args":[[{"prim":"CDR","annots":["@storage_slash_1"]}]]},{"prim":"CAR","annots":["@parameter_slash_2"]},{"prim":"LAMBDA","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"bytes"},[{"prim":"RENAME","annots":["@o_slash_3"]},{"prim":"NIL","args":[{"prim":"bytes"}]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@o"]}]]},{"prim":"SWAP"}],[{"prim":"CDR"},{"prim":"CDR","annots":["%order_cost"]}],{"prim":"PACK"},{"prim":"BLAKE2B"},{"prim":"CONS"},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@o"]}]]},{"prim":"SWAP"}],[{"prim":"CDR"},{"prim":"CAR","annots":["%order_objective"]}],{"prim":"BLAKE2B"},{"prim":"CONS"},{"prim":"SWAP"},{"prim":"CAR","annots":["%order_model"]},{"prim":"BLAKE2B"},{"prim":"CONS"},{"prim":"CONCAT"},{"prim":"BLAKE2B"}]],"annots":["@hash_order"]},{"prim":"LAMBDA","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"pair","args":[{"prim":"address"},{"prim":"address"}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order","%liability_params"]},{"prim":"pair","args":[{"prim":"address","annots":["%liability_promisee"]},{"prim":"pair","args":[{"prim":"address","annots":["%liability_promisor"]},{"prim":"option","args":[{"prim":"bytes"}],"annots":["%liability_report"]}]}]}],"annots":[":liability"]},[{"prim":"RENAME","annots":["@order_promisee_promisor_slash_5"]},{"prim":"NONE","args":[{"prim":"bytes"}]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@order_promisee_promisor"]}]]},{"prim":"SWAP"}],[{"prim":"CDR"},{"prim":"CDR","annots":["@promisor"]}],{"prim":"PAIR","annots":["%liability_promisor","%liability_report"]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@order_promisee_promisor"]}]]},{"prim":"SWAP"}],[{"prim":"CDR"},{"prim":"CAR","annots":["@promisee"]}],{"prim":"PAIR","annots":["%liability_promisee"]},{"prim":"SWAP"},{"prim":"CAR","annots":["@order"]},{"prim":"PAIR","annots":["%liability_params"]}]],"annots":["@new_liability"]},[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@parameter"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"IF_LEFT","args":[[{"prim":"RENAME","annots":["@order_slash_10"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],[{"prim":"DIP","args":[{"int":"3"},[{"prim":"DUP","annots":["@hash_order"]}]]},{"prim":"DIG","args":[{"int":"4"}]}],[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"EXEC","annots":["@demand_hash"]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"SWAP"}],[{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]}],[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@demand_hash"]}]]},{"prim":"SWAP"}],{"prim":"GET"},{"prim":"IF_NONE","args":[[[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"SWAP"}],{"prim":"CDR"},[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"CAR","annots":["%asks"]},{"prim":"SENDER"},[{"prim":"DIP","args":[{"int":"5"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"6"}]}],{"prim":"PAIR"},[{"prim":"DIP","args":[{"int":"3"},[{"prim":"DUP","annots":["@demand_hash"]}]]},{"prim":"DIG","args":[{"int":"4"}]}],{"prim":"DIP","args":[[{"prim":"SOME"}]]},{"prim":"UPDATE"},{"prim":"PAIR","annots":["%asks"]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}],[[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"DUP"},{"prim":"CAR","annots":["%asks"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],[{"prim":"DIP","args":[{"int":"7"},[{"prim":"DUP","annots":["@new_liability"]}]]},{"prim":"DIG","args":[{"int":"8"}]}],[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP"}]]},{"prim":"DIG","args":[{"int":"5"}]}],{"prim":"CDR","annots":["@promisor"]},{"prim":"SENDER"},{"prim":"PAIR"},[{"prim":"DIP","args":[{"int":"8"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"9"}]}],{"prim":"PAIR"},{"prim":"EXEC","annots":["@liability"]},[{"prim":"DIP","args":[{"int":"6"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"7"}]}],[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],{"prim":"SIZE"},{"prim":"DIP","args":[[{"prim":"SOME"}]]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR","annots":["%bids","%deals"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["@storage","%asks"]},{"prim":"DUP","annots":["@storage"]},{"prim":"DUP"},{"prim":"CAR","annots":["%asks"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]},[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],[{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]}],[{"prim":"DIP","args":[{"int":"5"},[{"prim":"DUP","annots":["@demand_hash"]}]]},{"prim":"DIG","args":[{"int":"6"}]}],{"prim":"DIP","args":[[{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"address"}]}]}]]},[{"prim":"DIP","args":[{"int":"5"},[[{"prim":"DROP"},{"prim":"DROP"}]]]}],{"prim":"UPDATE"},{"prim":"PAIR","annots":["%bids","%deals"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["@storage","%asks"]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}]]},{"prim":"DIP","args":[[{"prim":"DROP"},{"prim":"DROP"},{"prim":"DROP"}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"RENAME","annots":["@order_slash_19"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],[{"prim":"DIP","args":[{"int":"3"},[{"prim":"DUP","annots":["@hash_order"]}]]},{"prim":"DIG","args":[{"int":"4"}]}],[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"EXEC","annots":["@offer_hash"]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"SWAP"}],{"prim":"CAR","annots":["%asks"]},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@offer_hash"]}]]},{"prim":"SWAP"}],{"prim":"GET"},{"prim":"IF_NONE","args":[[[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"SWAP"}],{"prim":"DUP"},{"prim":"CAR","annots":["%asks"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]},[{"prim":"DIP","args":[{"int":"3"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"4"}]}],[{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]}],{"prim":"SENDER"},[{"prim":"DIP","args":[{"int":"6"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"7"}]}],{"prim":"PAIR"},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@offer_hash"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],{"prim":"DIP","args":[[{"prim":"SOME"}]]},{"prim":"UPDATE"},{"prim":"PAIR","annots":["%bids","%deals"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["%asks"]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}],[[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"DUP"},{"prim":"CAR","annots":["%asks"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],[{"prim":"DIP","args":[{"int":"7"},[{"prim":"DUP","annots":["@new_liability"]}]]},{"prim":"DIG","args":[{"int":"8"}]}],{"prim":"SENDER"},[{"prim":"DIP","args":[{"int":"5"},[{"prim":"DUP"}]]},{"prim":"DIG","args":[{"int":"6"}]}],{"prim":"CDR","annots":["@promisee"]},{"prim":"PAIR"},[{"prim":"DIP","args":[{"int":"8"},[{"prim":"DUP","annots":["@order"]}]]},{"prim":"DIG","args":[{"int":"9"}]}],{"prim":"PAIR"},{"prim":"EXEC","annots":["@liability"]},[{"prim":"DIP","args":[{"int":"6"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"7"}]}],[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],{"prim":"SIZE"},{"prim":"DIP","args":[[{"prim":"SOME"}]]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR","annots":["%bids","%deals"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["@storage","%asks"]},{"prim":"DUP","annots":["@storage"]},{"prim":"CDR"},[{"prim":"DIP","args":[[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"SWAP"}],{"prim":"CAR","annots":["%asks"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@offer_hash"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],{"prim":"DIP","args":[[{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%order_model"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%order_objective"]},{"prim":"nat","annots":["%order_cost"]}]}],"annots":[":order"]},{"prim":"address"}]}]}]]},[{"prim":"DIP","args":[{"int":"4"},[[{"prim":"DROP"},{"prim":"DROP"}]]]}],{"prim":"UPDATE"},{"prim":"PAIR","annots":["@storage","%asks"]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}]]},{"prim":"DIP","args":[[{"prim":"DROP"},{"prim":"DROP"},{"prim":"DROP"}]]}],[{"prim":"RENAME","annots":["@report_slash_28"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],{"prim":"DUP","annots":["@storage"]},[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@report"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"CAR","annots":["%report_ix"]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"Wrong liability index"}]},{"prim":"FAILWITH"}],[{"prim":"DUP","annots":["@l"]},[{"prim":"CDR"},{"prim":"CDR"},{"prim":"CDR","annots":["%liability_report"]}],{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"Liability already finalized"}]},{"prim":"FAILWITH"}],[{"prim":"SENDER"},[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@l"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],[{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR","annots":["%liability_promisor"]}],{"prim":"COMPARE"},{"prim":"NEQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"Wrong report sender"}]},{"prim":"FAILWITH"}],[[{"prim":"DIP","args":[{"int":"2"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"3"}]}],{"prim":"DUP"},{"prim":"CAR","annots":["%asks"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CAR","annots":["%bids"]},[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@storage"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],[{"prim":"CDR"},{"prim":"CDR","annots":["%deals"]}],[{"prim":"DIP","args":[{"int":"4"},[{"prim":"DUP","annots":["@l"]}]]},{"prim":"DIG","args":[{"int":"5"}]}],{"prim":"DUP"},{"prim":"CAR","annots":["%liability_params"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR","annots":["%liability_promisee"]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CAR","annots":["%liability_promisor"]},[{"prim":"DIP","args":[{"int":"9"},[{"prim":"DUP","annots":["@report"]}]]},{"prim":"DIG","args":[{"int":"10"}]}],{"prim":"CDR","annots":["%report_data"]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"PAIR","annots":["%liability_promisor","%liability_report"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["%liability_promisee"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["@l","%liability_params"]},{"prim":"SOME"},[{"prim":"DIP","args":[{"int":"7"},[{"prim":"DUP","annots":["@report"]}]]},{"prim":"DIG","args":[{"int":"8"}]}],{"prim":"CAR","annots":["%report_ix"]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR","annots":["%bids","%deals"]},{"prim":"SWAP"},{"prim":"PAIR","annots":["%asks"]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}]]},{"prim":"DIP","args":[[{"prim":"DROP"}]]}]]},{"prim":"DIP","args":[[{"prim":"DROP"}]]}]]},{"prim":"DIP","args":[[{"prim":"DROP"},{"prim":"DROP"}]]}]]}]]},{"prim":"DIP","args":[[{"prim":"DROP"},{"prim":"DROP"},{"prim":"DROP"},{"prim":"DROP"}]]}]]}],"storage":{"prim":"Pair","args":[[],{"prim":"Pair","args":[[],[{"prim":"Elt","args":[{"int":"0"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"15"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]},{"prim":"Elt","args":[{"int":"1"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"1"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]},{"prim":"Elt","args":[{"int":"2"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"1"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]},{"prim":"Elt","args":[{"int":"3"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"1"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]},{"prim":"Elt","args":[{"int":"4"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"1"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]},{"prim":"Elt","args":[{"int":"5"},{"prim":"Pair","args":[{"prim":"Pair","args":[{"bytes":"63"},{"prim":"Pair","args":[{"bytes":"63"},{"int":"1"}]}]},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"Pair","args":[{"bytes":"0000f58524659f5f467272c570ad033ba5b2c3a3e238"},{"prim":"None"}]}]}]}]}]]}]}}
